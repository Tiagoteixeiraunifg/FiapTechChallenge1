Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012155949_Atualizacao1'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Autores_LivroId] ON [Autores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012155949_Atualizacao1', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012171810_Atualizacao2'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Autores] DROP CONSTRAINT [FK_Autores_Livros_LivroId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Editoras] DROP CONSTRAINT [FK_Editoras_Livros_LivroId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Livros_FichaEmprestimoAlunoId] ON [Livros] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Autores] ADD CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Editoras] ADD CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD CONSTRAINT [FK_Livros_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]);
Error: Microsoft.EntityFrameworkCore.Database.Command.CommandError - Failed executing DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012172843_Atualizacao2'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Autores] DROP CONSTRAINT [FK_Autores_Livros_LivroId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Editoras] DROP CONSTRAINT [FK_Editoras_Livros_LivroId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Livros_FichaEmprestimoAlunoId] ON [Livros] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Autores] ADD CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Editoras] ADD CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD CONSTRAINT [FK_Livros_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Error: Microsoft.EntityFrameworkCore.Database.Command.CommandError - Failed executing DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012173443_Atualizacao2'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD [FichaEmprestimoAlunoId] int NOT NULL DEFAULT 0;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Livros_FichaEmprestimoAlunoId] ON [Livros] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Alunos] ADD CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Livros] ADD CONSTRAINT [FK_Livros_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Error: Microsoft.EntityFrameworkCore.Database.Command.CommandError - Failed executing DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Usuarios] ADD CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE;
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012173718_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Livros_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Autores_LivroId] ON [Autores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Livros_FichaEmprestimoAlunoId] ON [Livros] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012173718_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012175126_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [FichaEmprestimoItensId] int NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoItens] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoItens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoItens_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [FichaEmprestimoItensId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Livros_FichaEmprestimoItens_FichaEmprestimoItensId] FOREIGN KEY ([FichaEmprestimoItensId]) REFERENCES [FichaEmprestimoItens] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Autores_LivroId] ON [Autores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoItens_FichaEmprestimoAlunoId] ON [FichaEmprestimoItens] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Livros_FichaEmprestimoItensId] ON [Livros] ([FichaEmprestimoItensId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012175126_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012181309_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] int NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Usuarios_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Autores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoItens] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    [LivroId] int NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoItens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoItens_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoItens_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [LivroAutores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [LivroId] int NOT NULL,
    [AutorId] int NULL,
    CONSTRAINT [PK_LivroAutores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LivroAutores_Autores_AutorId] FOREIGN KEY ([AutorId]) REFERENCES [Autores] ([Id]),
    CONSTRAINT [FK_LivroAutores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Autores_LivroId] ON [Autores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_FichaEmprestimoItens_FichaEmprestimoAlunoId] ON [FichaEmprestimoItens] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoItens_LivroId] ON [FichaEmprestimoItens] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_AutorId] ON [LivroAutores] ([AutorId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_LivroId] ON [LivroAutores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Usuarios_FichaEmprestimoAlunoId] ON [Usuarios] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012181309_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (47ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012181934_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [LivroAutores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [LivroId] int NOT NULL,
    [AutorId] int NULL,
    CONSTRAINT [PK_LivroAutores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LivroAutores_Autores_AutorId] FOREIGN KEY ([AutorId]) REFERENCES [Autores] ([Id]),
    CONSTRAINT [FK_LivroAutores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] INT NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoAlunos_Usuarios_UsuarioId] FOREIGN KEY ([UsuarioId]) REFERENCES [Usuarios] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Alunos_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoItens] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    [LivroId] int NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoItens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoItens_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoItens_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Alunos_FichaEmprestimoAlunoId] ON [Alunos] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoAlunos_UsuarioId] ON [FichaEmprestimoAlunos] ([UsuarioId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_FichaEmprestimoItens_FichaEmprestimoAlunoId] ON [FichaEmprestimoItens] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoItens_LivroId] ON [FichaEmprestimoItens] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_AutorId] ON [LivroAutores] ([AutorId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_LivroId] ON [LivroAutores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012181934_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012182154_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [LivroId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Editoras_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [LivroAutores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [LivroId] int NOT NULL,
    [AutorId] int NULL,
    CONSTRAINT [PK_LivroAutores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LivroAutores_Autores_AutorId] FOREIGN KEY ([AutorId]) REFERENCES [Autores] ([Id]),
    CONSTRAINT [FK_LivroAutores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] INT NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoAlunos_Alunos_AlunoId] FOREIGN KEY ([AlunoId]) REFERENCES [Alunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoAlunos_Usuarios_UsuarioId] FOREIGN KEY ([UsuarioId]) REFERENCES [Usuarios] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoItens] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    [LivroId] int NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoItens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoItens_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoItens_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Editoras_LivroId] ON [Editoras] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoAlunos_AlunoId] ON [FichaEmprestimoAlunos] ([AlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoAlunos_UsuarioId] ON [FichaEmprestimoAlunos] ([UsuarioId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_FichaEmprestimoItens_FichaEmprestimoAlunoId] ON [FichaEmprestimoItens] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoItens_LivroId] ON [FichaEmprestimoItens] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_AutorId] ON [LivroAutores] ([AutorId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_LivroId] ON [LivroAutores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012182154_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
Information: Microsoft.EntityFrameworkCore.Migrations.MigrationApplying - Applying migration '20231012182535_Inicial-Criar-Banco-Dados'.
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Alunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Email] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Alunos] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Autores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Nome] nvarchar(100) NULL,
    [Telefone] nvarchar(20) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Autores] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Editoras] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Cnpj] nvarchar(25) NULL,
    [Nome] nvarchar(100) NULL,
    [Cidade] nvarchar(100) NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Editoras] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Usuarios] (
    [Id] INT NOT NULL IDENTITY,
    [Codigo] VARCHAR(100) NOT NULL,
    [Nome] VARCHAR(100) NULL,
    [Email] VARCHAR(100) NOT NULL,
    [Senha] VARCHAR(100) NOT NULL,
    [Permissao] int NOT NULL,
    CONSTRAINT [PK_Usuarios] PRIMARY KEY ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Livros] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [Titulo] nvarchar(100) NULL,
    [SubTitulo] nvarchar(100) NULL,
    [QuantidadeEstoque] decimal(14,2) NOT NULL,
    [Status] INT NOT NULL,
    [EditoraId] int NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_Livros] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Livros_Editoras_EditoraId] FOREIGN KEY ([EditoraId]) REFERENCES [Editoras] ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoAlunos] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [UsuarioId] INT NOT NULL,
    [AlunoId] int NOT NULL,
    [Observacoes] nvarchar(4000) NULL,
    [StatusEmprestimo] INT NOT NULL,
    [DataEmprestimo] datetime2 NOT NULL,
    [DataVencimentoEmprestimo] datetime2 NOT NULL,
    [DataCriacao] datetime2 NOT NULL,
    [DataAtualizacao] datetime2 NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoAlunos] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoAlunos_Alunos_AlunoId] FOREIGN KEY ([AlunoId]) REFERENCES [Alunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoAlunos_Usuarios_UsuarioId] FOREIGN KEY ([UsuarioId]) REFERENCES [Usuarios] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [LivroAutores] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [LivroId] int NOT NULL,
    [AutorId] int NULL,
    CONSTRAINT [PK_LivroAutores] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_LivroAutores_Autores_AutorId] FOREIGN KEY ([AutorId]) REFERENCES [Autores] ([Id]),
    CONSTRAINT [FK_LivroAutores_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id])
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [FichaEmprestimoItens] (
    [Id] int NOT NULL IDENTITY,
    [Codigo] uniqueidentifier NOT NULL,
    [FichaEmprestimoAlunoId] int NOT NULL,
    [LivroId] int NOT NULL,
    CONSTRAINT [PK_FichaEmprestimoItens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FichaEmprestimoItens_FichaEmprestimoAlunos_FichaEmprestimoAlunoId] FOREIGN KEY ([FichaEmprestimoAlunoId]) REFERENCES [FichaEmprestimoAlunos] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FichaEmprestimoItens_Livros_LivroId] FOREIGN KEY ([LivroId]) REFERENCES [Livros] ([Id]) ON DELETE CASCADE
);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoAlunos_AlunoId] ON [FichaEmprestimoAlunos] ([AlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoAlunos_UsuarioId] ON [FichaEmprestimoAlunos] ([UsuarioId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_FichaEmprestimoItens_FichaEmprestimoAlunoId] ON [FichaEmprestimoItens] ([FichaEmprestimoAlunoId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_FichaEmprestimoItens_LivroId] ON [FichaEmprestimoItens] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_AutorId] ON [LivroAutores] ([AutorId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_LivroAutores_LivroId] ON [LivroAutores] ([LivroId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Livros_EditoraId] ON [Livros] ([EditoraId]);
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231012182535_Inicial-Criar-Banco-Dados', N'7.0.12');
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Cadastro do Usurio
Information: 0 - Criptografando a Senha do Cadastro do Usurio
Information: 0 - Criando Cdigo Guid do Cadastro do Usurio
Information: 0 - Gravando Cadastro do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Usuarios] ([Codigo], [Email], [Nome], [Permissao], [Senha])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
Information: 0 - Retornando Cadastro do Usurio
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJQZXJtaXNzYW8iOiIyIiwiSWQiOiIxIiwibmJmIjoxNjk3MTM2MjM2LCJleHAiOjE2OTcxNjUwMzYsImlhdCI6MTY5NzEzNjIzNn0.GjGFCjbwf2PLFYxx1lkVQ_r-QjvvZ5vQv1bf_VjExgA
Information: 0 - Usuario logado com sucesso
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJQZXJtaXNzYW8iOiIyIiwiSWQiOiIxIiwibmJmIjoxNjk3MTM2Njc2LCJleHAiOjE2OTcxNjU0NzYsImlhdCI6MTY5NzEzNjY3Nn0.0qjABXK3cvA6hIuCc1VCSOOnmDnsvmbczK84ATpGptw
Information: 0 - Usuario logado com sucesso
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJQZXJtaXNzYW8iOiIyIiwiSWQiOiIxIiwibmJmIjoxNjk3MTM2ODA0LCJleHAiOjE2OTcxNjU2MDQsImlhdCI6MTY5NzEzNjgwNH0.8Q1d0B0Dq8ZqDWcYg2BCxjpQnzx8g5VSD3Re9eGQaAE
Information: 0 - Usuario logado com sucesso
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJQZXJtaXNzYW8iOiJBRE1JTklTVFJBRE9SIiwiSWQiOiIxIiwibmJmIjoxNjk3MTM2OTI3LCJleHAiOjE2OTcxNjU3MjcsImlhdCI6MTY5NzEzNjkyN30.rWpDfcCSAYRraZoihLURR1ZoXZHcH97oz3UcAL9o6oE
Information: 0 - Usuario logado com sucesso
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJyb2xlIjoiQURNSU5JU1RSQURPUiIsIklkIjoiMSIsIm5iZiI6MTY5NzEzNzIyNSwiZXhwIjoxNjk3MTY2MDI1LCJpYXQiOjE2OTcxMzcyMjV9.-Wpmb9lKqYHbsJfvUVM9A9U5nJV-qNMC9sh0pBZXAAg
Information: 0 - Usuario logado com sucesso
Information: 0 - Iniciando validao de token
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJyb2xlIjoiQURNSU5JU1RSQURPUiIsIklkIjoiMSIsIm5iZiI6MTY5NzEzNzY1NywiZXhwIjoxNjk3MTY2NDU3LCJpYXQiOjE2OTcxMzc2NTd9.i9zIDFh4nD9xH9BH78iWmHbrlhSdTUGj6gPiSgVylQ0
Information: 0 - Usuario logado com sucesso
Information: 0 - Iniciando validao de token
Information: 0 - Retornando erro no processo de renovao de token
Information: 0 - Iniciando validao de token
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJyb2xlIjoiQURNSU5JU1RSQURPUiIsIklkIjoiMSIsIm5iZiI6MTY5NzEzNzgwOCwiZXhwIjoxNjk3MTY2NjA4LCJpYXQiOjE2OTcxMzc4MDh9.u4FJJG7IVpCmRfiRK3iYBGWbXh4hjZlBDXvBuK0xnU0
Information: 0 - Usuario logado com sucesso
Information: 0 - Iniciando validao de token
Information: 0 - Retornando token valdo.
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Atualizacao do Usurio
Information: 0 - Criptografando a Senha do Cadastro do Usurio
Information: 0 - Gravando Cadastro Atualizado do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Usuarios] ([Codigo], [Email], [Nome], [Permissao], [Senha])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
Information: 0 - Retornando Cadastro do Usurio
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Application started. Press Ctrl+C to shut down.
Information: 0 - Hosting environment: Development
Information: 0 - Content root path: C:\Users\tiago\OneDrive\rea de Trabalho\POS GRADUAO FIAP\FASE 1\TechChallenge\FiapTechChallenge1\Biblioteca.API
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Autenticao do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Autenticao do Usurio Executada - Gerando Token
Information: 0 - Token Gerado = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJOb21lIjoidGlhZ28iLCJyb2xlIjoiQURNSU5JU1RSQURPUiIsIklkIjoiMSIsIm5iZiI6MTY5NzEzOTk2NywiZXhwIjoxNjk3MTY4NzY3LCJpYXQiOjE2OTcxMzk5Njd9.XljVN66FF_FQ_qc6IY_FjxzdjxCBpbib7_I3hariy2o
Information: 0 - Usuario logado com sucesso
Information: 0 - Iniciando a busca das informaes
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Convertendo Lista de Usuarios em Lista de DtoUsuarios
Information: 0 - Devolvendo Lista de Dto
Information: 0 - Iniciando a busca das informaes
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Convertendo usuario em DtoUsuario
Information: 0 - Devolvendo DtoUsuario
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Existe Inconsistncias
Information: 0 - Iniciando Validao do Usurio
Information: 0 - Iniciando Atualizacao do Usurio
Information: 0 - Criptografando a Senha do Cadastro do Usurio
Information: 0 - Gravando Cadastro Atualizado do Usurio
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (20ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (Size = 100) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Usuarios] SET [Codigo] = @p0, [Email] = @p1, [Nome] = @p2, [Permissao] = @p3, [Senha] = @p4
OUTPUT 1
WHERE [Id] = @p5;
Information: 0 - Retornando Cadastro do Usurio
Information: 0 - Iniciando a busca das informaes
Information: Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[Id], [u].[Codigo], [u].[Email], [u].[Nome], [u].[Permissao], [u].[Senha]
FROM [Usuarios] AS [u]
Information: 0 - Convertendo Lista de Usuarios em Lista de DtoUsuarios
Information: 0 - Devolvendo Lista de Dto
